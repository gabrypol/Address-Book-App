{"version":3,"sources":["reducers/users.js","reducers/index.js","actions/types.js","store.js","components/Loading.js","components/UserDetailModal.js","components/User.js","components/UsersList.js","components/Search.js","actions/users.js","components/App.js","components/NotFound.js","components/Settings.js","components/Router.js","serviceWorker.js","index.js"],"names":["initialState","users","isLoading","requestSent","endUsersRequest","nat","combineReducers","user","state","action","type","payload","middleware","thunk","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","Loading","className","Component","UserDetailModal","hideUserDetails","event","user_email","currentTarget","getAttribute","document","getElementById","classList","add","this","props","details","name","login","email","location","cell","phone","full_name","first","last","id","username","street","number","postcode","city","onClick","data-value","User","showUserDetail","remove","picture","src","large","alt","UsersList","Object","keys","list","map","key","index","Search","filterSearch","search_value","value","toLowerCase","querySelectorAll","user_wrapper","forEach","innerText","indexOf","style","placeholder","onChange","getRandomUsers","dispatch","getState","url","join","axios","get","then","res","status","concat","data","results","window","alert","catch","err","App","requestUsers","setRequestSent","setTimeout","bind","wrapper","querySelector","scrollTop","scrollHeight","clientHeight","innerHeight","Math","ceil","length","setEndUsersResquest","sendUsersRequest","onScroll","handleScroll","to","connect","flag","setIsLoading","NotFound","Settings","nationalities","checked","componentDidMount","setState","preventDefault","setNat","handleCheckbox","target","splice","includes","Router","exact","path","render","component","Boolean","hostname","match","ReactDOM","navigator","serviceWorker","ready","registration","unregister"],"mappings":"60BAQA,IAAMA,EAAe,CACpBC,MAAO,GACPC,WAAW,EACXC,aAAa,EACbC,iBAAiB,EACjBC,IAAK,ICVSC,4BAAgB,CAC9BC,KDYc,WAAwC,IAA/BC,EAA8B,uDAAtBR,EAAcS,EAAQ,uCACrD,OAAQA,EAAOC,MACd,IElBuB,YFmBtB,OAAO,EAAP,GACIF,EADJ,CAECP,MAAOQ,EAAOE,QACdT,WAAW,EACXC,aAAa,IAEf,IExB4B,iBFyB3B,OAAO,EAAP,GACIK,EADJ,CAECN,UAAWO,EAAOE,UAEpB,IE3BmC,wBF4BlC,OAAO,EAAP,GACIH,EADJ,CAECJ,gBAAiBK,EAAOE,UAE1B,IEjC8B,mBFkC7B,OAAO,EAAP,GACIH,EADJ,CAECL,YAAaM,EAAOE,UAEtB,IEpCqB,UFqCpB,OAAO,EAAP,GACIH,EADJ,CAECH,IAAKI,EAAOE,QACZV,MAAO,KAET,QACC,OAAOO,MGxCJI,EAAa,CAACC,KAQLC,EANDC,sBACVC,EALiB,GAOjBC,8BAAoBC,kBAAe,WAAf,EAAmBN,K,mDCA5BO,E,iLARX,OACE,yBAAKC,UAAU,mBACb,yBAAKA,UAAU,eAAf,gB,GAJcC,aCkEPC,E,2MAjEdC,gBAAkB,SAAAC,GACjB,IAAMC,EAAaD,EAAME,cAAcC,aAAa,cAChCC,SAASC,eAAe,QAAUJ,GAC1CK,UAAUC,IAAI,W,wEAEjB,IAAD,EAQJC,KAAKC,MAAMC,QANdC,EAFO,EAEPA,KACAC,EAHO,EAGPA,MACAC,EAJO,EAIPA,MACAC,EALO,EAKPA,SACAC,EANO,EAMPA,KACAC,EAPO,EAOPA,MAEKC,EAAYN,EAAKO,MAAQ,IAAMP,EAAKQ,KAC1C,OACC,yBAAKvB,UAAU,yBAAyBwB,GAAI,QAAUP,GACrD,yBAAKjB,UAAU,wBACd,yBAAKA,UAAU,2BACd,uBAAGA,UAAU,QACZ,wCACCqB,GAEF,uBAAGrB,UAAU,YACZ,2CACCgB,EAAMS,UAER,uBAAGzB,UAAU,SACZ,wCACCiB,GAEF,uBAAGjB,UAAU,YACZ,yCACCkB,EAASQ,OAAOX,KAAO,IAAMG,EAASQ,OAAOC,QAE/C,uBAAG3B,UAAU,YACZ,uCACCkB,EAASU,SAFX,IAEsBV,EAASW,MAE/B,uBAAG7B,UAAU,YACZ,wCACCkB,EAAS9B,OAEX,uBAAGY,UAAU,SACZ,+CACCoB,GAEF,uBAAGpB,UAAU,QACZ,8CACCmB,IAGH,yBACCnB,UAAU,oBACV8B,QAASlB,KAAKT,gBACd4B,aAAYd,GAEZ,0BAAMjB,UAAU,iBAAhB,Y,GA1DwBC,aCgCf+B,E,2MA9BbC,eAAiB,SAAA7B,GACf,IAAMC,EAAaD,EAAME,cAAcC,aAAa,cAChCC,SAASC,eAAe,QAAUJ,GAC1CK,UAAUwB,OAAO,W,wEAGrB,IAAD,EACiCtB,KAAKC,MAAMC,QAA3CqB,EADD,EACCA,QAASpB,EADV,EACUA,KAAMC,EADhB,EACgBA,MAAOC,EADvB,EACuBA,MACxBI,EAAYN,EAAKO,MAAQ,IAAMP,EAAKQ,KAC1C,OACE,yBAAKvB,UAAU,kBACb,yBAAKoC,IAAKD,EAAQE,MAAOC,IAAKjB,IAC9B,yBAAKrB,UAAU,qBACb,wBAAIA,UAAU,qBAAqBqB,GACnC,wBAAIrB,UAAU,YAAYgB,EAAMS,UAChC,wBAAIzB,UAAU,SAASiB,GACvB,yBACEjB,UAAU,oBACV8B,QAASlB,KAAKqB,eACdF,aAAYd,GAEZ,qCAGJ,kBAAC,EAAD,CAAiBH,QAASF,KAAKC,MAAMC,e,GAzB1Bb,aCYJsC,E,iLAXH,IAAD,OACP,OACE,4BACGC,OAAOC,KAAK7B,KAAKC,MAAM6B,MAAMC,IAAI,SAAAC,GAAG,OACnC,kBAAC,EAAD,CAAMA,IAAKA,EAAKC,MAAOD,EAAK9B,QAAS,EAAKD,MAAM6B,KAAKE,Y,GALvC3C,aC0BT6C,E,2MA1BdC,aAAe,SAAA3C,GACd,IAAM4C,EAAe5C,EAAME,cAAc2C,MAAMC,cACzCrE,EAAQ2B,SAAS2C,iBAAiB,iBAClCC,EAAe5C,SAAS2C,iBAAiB,mBAC/CC,EAAaC,QAAQ,SAASlE,EAAM0D,GAC/BhE,EAAMgE,GAAOS,UAAUJ,cAAcK,QAAQP,IAAiB,EACjEI,EAAaP,GAAOW,MAApB,QAAuC,QAEvCJ,EAAaP,GAAOW,MAApB,QAAuC,U,wEAKzC,OACC,yBAAKxD,UAAU,mBACd,2BACCV,KAAK,OACLU,UAAU,SACVyD,YAAY,mBACZC,SAAU9C,KAAKmC,oB,GApBC9C,a,iBCOR0D,EAAiB,kBAAM,SAACC,EAAUC,GAC9C,IAAIC,EACE1E,EAAQyE,IACdC,EAAM,6CAA+C1E,EAAMD,KAAKF,IAAI8E,KAAK,KACzEC,IACEC,IAAIH,GACJI,KAAK,SAAAC,GACc,MAAfA,EAAIC,OACPR,EAAS,CACRtE,KPlBoB,YOmBpBC,QAASH,EAAMD,KAAKN,MAAMwF,OAAOF,EAAIG,KAAKC,WAG3CC,OAAOC,MAAM,sBAAwBN,EAAIC,UAG1CM,MAAM,SAAAC,GACNH,OAAOC,MAAME,OCbVC,E,4LAEJhE,KAAKiE,iB,qCAILjE,KAAKC,MAAM8C,mB,yCAIP/C,KAAKC,MAAM9B,cAGf6B,KAAKC,MAAMiE,gBAAe,GAC1BC,WAAWnE,KAAKiE,aAAaG,KAAKpE,MAAO,Q,qCAIzC,IACMqE,EAAUzE,SAAS0E,cAAc,YACjCC,EAAYF,GAAWA,EAAQE,UAC/BC,EAAeH,GAAWA,EAAQG,aAClCC,EAAeb,OAAOc,YAE3BC,KAAKC,KAAKL,EAAYE,IAAiBD,IANtB,MAQbxE,KAAKC,MAAMhC,MAAM4G,OAEpB7E,KAAKC,MAAM6E,qBAAoB,GAG/B9E,KAAK+E,sB,+BAMP,OAAI/E,KAAKC,MAAM/B,UACP,kBAAC,EAAD,MAGP,yBAAKkB,UAAU,UAAU4F,SAAUhF,KAAKiF,aAAab,KAAKpE,OACzD,kBAAC,EAAD,CAAQ/B,MAAO+B,KAAKC,MAAMhC,QAC1B,kBAAC,IAAD,CAAMiH,GAAG,YAAY9F,UAAU,iBAA/B,YAGA,yBAAKA,UAAU,iBACd,kBAAC,EAAD,CAAW0C,KAAM9B,KAAKC,MAAMhC,SAE7B,yBACCmB,UACCY,KAAKC,MAAM9B,YACR,qBACA,wBAJL,WASA,yBACCiB,UACCY,KAAKC,MAAM7B,gBAAkB,iBAAmB,oBAFlD,6B,GA1DciB,aA6EH8F,cAPS,SAAC,GAAD,IAAG5G,EAAH,EAAGA,KAAH,MAAe,CACtCN,MAAOM,EAAKN,MACZC,UAAWK,EAAKL,UAChBC,YAAaI,EAAKJ,YAClBC,gBAAiBG,EAAKH,kBAKtB,CACC2E,iBACA+B,oBDzDiC,SAAAM,GAAI,OAAI,SAAApC,GAC1CA,EAAS,CACRtE,KPpCmC,wBOqCnCC,QAASyG,MCuDTC,aDnD0B,SAAAD,GAAI,OAAI,SAAApC,GACnCA,EAAS,CACRtE,KP7C4B,iBO8C5BC,QAASyG,MCiDTlB,eDlE4B,SAAAkB,GAAI,OAAI,SAAApC,GACrCA,EAAS,CACRtE,KP9B8B,mBO+B9BC,QAASyG,OCyDID,CAQbnB,GC1FasB,EANE,kBACf,yBAAKlG,UAAU,aACb,4C,QCCEmG,E,2MACJ/G,MAAQ,CACNgH,cAAe,CAAC,KAAM,KAAM,KAAM,MAClCC,QAAS,I,EAGXC,kBAAoB,WAClB,EAAKC,SAAS,CAAEF,QAAQ,YAAK,EAAKxF,MAAM5B,Q,EAG1C6C,QAAU,SAAA1B,GACRA,EAAMoG,iBACN,EAAK3F,MAAM4F,OAAO,EAAKrH,MAAMiH,U,EAG/BK,eAAiB,SAAAtG,GACf,IAAMuG,EAASvG,EAAME,cACfrB,EAAM0H,EAAOpG,aAAa,SAChC,GAAIoG,EAAON,QACT,EAAKE,SAAS,CAAEF,QAAS,EAAKjH,MAAMiH,QAAQhC,OAAOpF,SAC9C,CACL,IAAIoH,EAAU,EAAKjH,MAAMiH,QACnBxD,EAAQwD,EAAQ9C,QAAQtE,GAC1B4D,GAAS,GACXwD,EAAQO,OAAO/D,EAAO,GAExB,EAAK0D,SAAS,CAAEF,c,wEAIV,IAAD,OACP,OACE,yBAAKrG,UAAU,WACb,yBAAKA,UAAU,OACb,kBAAC,IAAD,CAAM8F,GAAG,KAAT,SAEF,yBAAK9F,UAAU,oBACb,wCACA,yBAAKA,UAAU,mBACZwC,OAAOC,KAAK7B,KAAKxB,MAAMgH,eAAezD,IAAI,SAACC,EAAKC,GAAN,OACzC,2BAAOD,IAAKA,GACV,2BACEtD,KAAK,WACLsD,IAAKA,EACLyD,QAAS,EAAKjH,MAAMiH,QAAQQ,SAC1B,EAAKzH,MAAMgH,cAAcxD,IAE3BK,MAAO,EAAK7D,MAAMgH,cAAcxD,GAChCc,SAAU,EAAKgD,iBAEhB,EAAKtH,MAAMgH,cAAcxD,OAIhC,4BAAQtD,KAAK,SAASwC,QAASlB,KAAKkB,SAApC,c,GAtDa7B,aAmER8F,cAJS,SAAC,GAAD,MAAe,CACrC9G,IADsB,EAAGE,KACfF,MAKV,CAAE0E,iBAAgB8C,OHvBE,SAAAxH,GAAG,OAAI,SAAA2E,GAC5BA,EAAS,CACRtE,KPjDqB,UOkDrBC,QAASN,OGkBI8G,CAGbI,GC3DaW,EAVA,kBACd,kBAAC,IAAD,KACC,kBAAC,IAAD,KACC,kBAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,OAAQ,SAACpG,GAAD,OAAW,kBAAC,EAAQA,MAClD,kBAAC,IAAD,CAAOkG,OAAK,EAACC,KAAK,YAAYC,OAAQ,SAACpG,GAAD,OAAW,kBAAC,EAAaA,MAC/D,kBAAC,IAAD,CAAOqG,UAAWhB,O,MCCDiB,QACW,cAA7B3C,OAAOtD,SAASkG,UAEe,UAA7B5C,OAAOtD,SAASkG,UAEhB5C,OAAOtD,SAASkG,SAASC,MACvB,2DCVNC,IAASL,OACR,kBAAC,IAAD,CAAUvH,MAAOA,GAChB,kBAAC,EAAD,OAEDc,SAASC,eAAe,SDqHnB,kBAAmB8G,WACrBA,UAAUC,cAAcC,MAAMvD,KAAK,SAAAwD,GACjCA,EAAaC,iB","file":"static/js/main.73ef0367.chunk.js","sourcesContent":["import {\r\n\tGET_USERS,\r\n\tSET_END_USERS_REQUEST,\r\n\tSET_IS_LOADING,\r\n\tSET_REQUEST_SENT,\r\n\tSET_NAT\r\n} from \"../actions/types\";\r\n\r\nconst initialState = {\r\n\tusers: [],\r\n\tisLoading: true,\r\n\trequestSent: true,\r\n\tendUsersRequest: false,\r\n\tnat: []\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n\tswitch (action.type) {\r\n\t\tcase GET_USERS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: action.payload,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\trequestSent: false\r\n\t\t\t};\r\n\t\tcase SET_IS_LOADING:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: action.payload\r\n\t\t\t};\r\n\t\tcase SET_END_USERS_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tendUsersRequest: action.payload\r\n\t\t\t};\r\n\t\tcase SET_REQUEST_SENT:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\trequestSent: action.payload\r\n\t\t\t};\r\n\t\tcase SET_NAT:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tnat: action.payload,\r\n\t\t\t\tusers: []\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n","import { combineReducers } from \"redux\";\r\nimport user from \"./users\";\r\n\r\nexport default combineReducers({\r\n\tuser\r\n});\r\n","export const GET_USERS = \"GET_USERS\";\r\nexport const SET_IS_LOADING = \"SET_IS_LOADING\";\r\nexport const SET_REQUEST_SENT = \"SET_REQUEST_SENT\";\r\nexport const SET_END_USERS_REQUEST = \"SET_END_USERS_REQUEST\";\r\nexport const SET_NAT = \"SET_NAT\";\r\n","import {createStore, applyMiddleware} from \"redux\"\r\nimport {composeWithDevTools} from \"redux-devtools-extension\"\r\nimport thunk from \"redux-thunk\"\r\nimport rootReducer from \"./reducers\"\r\n\r\nconst initialState = {}\r\n\r\nconst middleware = [thunk]\r\n\r\nconst store = createStore(\r\n    rootReducer,\r\n    initialState,\r\n    composeWithDevTools(applyMiddleware(...middleware))\r\n)\r\n\r\nexport default store","import React, { Component } from 'react';\r\n\r\nclass Loading extends Component {\r\n  render() {\r\n    return (\r\n      <div className='loading-wrapper'>\r\n        <div className='loading-msg'>Loading</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Loading;\r\n","import React, { Component } from \"react\";\r\n\r\nclass UserDetailModal extends Component {\r\n\thideUserDetails = event => {\r\n\t\tconst user_email = event.currentTarget.getAttribute(\"data-value\");\r\n\t\tconst user_detail = document.getElementById(\"user_\" + user_email);\r\n\t\tuser_detail.classList.add(\"hidden\");\r\n\t};\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tname,\r\n\t\t\tlogin,\r\n\t\t\temail,\r\n\t\t\tlocation,\r\n\t\t\tcell,\r\n\t\t\tphone\r\n\t\t} = this.props.details;\r\n\t\tconst full_name = name.first + \" \" + name.last;\r\n\t\treturn (\r\n\t\t\t<div className=\"user-info-modal hidden\" id={\"user_\" + email}>\r\n\t\t\t\t<div className=\"user-info-modal-main\">\r\n\t\t\t\t\t<div className=\"user-info-modal-details\">\r\n\t\t\t\t\t\t<p className=\"name\">\r\n\t\t\t\t\t\t\t<span>Name: </span>\r\n\t\t\t\t\t\t\t{full_name}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className=\"username\">\r\n\t\t\t\t\t\t\t<span>username:</span>\r\n\t\t\t\t\t\t\t{login.username}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className=\"email\">\r\n\t\t\t\t\t\t\t<span>email:</span>\r\n\t\t\t\t\t\t\t{email}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className=\"location\">\r\n\t\t\t\t\t\t\t<span>Street:</span>\r\n\t\t\t\t\t\t\t{location.street.name + ' ' + location.street.number}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className=\"location\">\r\n\t\t\t\t\t\t\t<span>City:</span>\r\n\t\t\t\t\t\t\t{location.postcode} {location.city}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className=\"location\">\r\n\t\t\t\t\t\t\t<span>State:</span>\r\n\t\t\t\t\t\t\t{location.state}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className=\"phone\">\r\n\t\t\t\t\t\t\t<span>Phone number:</span>\r\n\t\t\t\t\t\t\t{phone}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className=\"cell\">\r\n\t\t\t\t\t\t\t<span>Cell number:</span>\r\n\t\t\t\t\t\t\t{cell}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"user-info-actions\"\r\n\t\t\t\t\t\tonClick={this.hideUserDetails}\r\n\t\t\t\t\t\tdata-value={email}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span className=\"user-info-btn\">x</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default UserDetailModal;\r\n","import React, { Component } from 'react';\r\nimport UserDetailModal from './UserDetailModal';\r\n\r\nclass User extends Component {\r\n  showUserDetail = event => {\r\n    const user_email = event.currentTarget.getAttribute('data-value');\r\n    const user_detail = document.getElementById('user_' + user_email);\r\n    user_detail.classList.remove('hidden');\r\n  };\r\n\r\n  render() {\r\n    const { picture, name, login, email } = this.props.details;\r\n    const full_name = name.first + ' ' + name.last;\r\n    return (\r\n      <div className='user-info-card'>\r\n        <img src={picture.large} alt={full_name} />\r\n        <div className='user-info-details'>\r\n          <h4 className='name js-full-name'>{full_name}</h4>\r\n          <h5 className='username'>{login.username}</h5>\r\n          <h5 className='email'>{email}</h5>\r\n          <div\r\n            className='user-info-actions'\r\n            onClick={this.showUserDetail}\r\n            data-value={email}\r\n          >\r\n            <span>+</span>\r\n          </div>\r\n        </div>\r\n        <UserDetailModal details={this.props.details} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default User;\r\n","import React, { Component } from 'react';\r\nimport User from './User';\r\n\r\nclass UsersList extends Component {\r\n  render() {\r\n    return (\r\n      <ul>\r\n        {Object.keys(this.props.list).map(key => (\r\n          <User key={key} index={key} details={this.props.list[key]} />\r\n        ))}\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UsersList;\r\n","import React, { Component } from \"react\";\r\n\r\nclass Search extends Component {\r\n\tfilterSearch = event => {\r\n\t\tconst search_value = event.currentTarget.value.toLowerCase();\r\n\t\tconst users = document.querySelectorAll(\".js-full-name\");\r\n\t\tconst user_wrapper = document.querySelectorAll(\".user-info-card\");\r\n\t\tuser_wrapper.forEach(function(user, index) {\r\n\t\t\tif (users[index].innerText.toLowerCase().indexOf(search_value) >= 0) {\r\n\t\t\t\tuser_wrapper[index].style[\"display\"] = \"block\";\r\n\t\t\t} else {\r\n\t\t\t\tuser_wrapper[index].style[\"display\"] = \"none\";\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"search-wrapper \">\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tclassName=\"search\"\r\n\t\t\t\t\tplaceholder=\"Search a user...\"\r\n\t\t\t\t\tonChange={this.filterSearch}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Search;\r\n","import axios from \"axios\";\r\nimport {\r\n\tGET_USERS,\r\n\tSET_END_USERS_REQUEST,\r\n\tSET_IS_LOADING,\r\n\tSET_REQUEST_SENT,\r\n\tSET_NAT\r\n} from \"./types\";\r\n\r\nexport const getRandomUsers = () => (dispatch, getState) => {\r\n\tlet url;\r\n\tconst state = getState();\r\n\turl = \"https://randomuser.me/api/?results=50&nat=\" + state.user.nat.join(\",\");\r\n\taxios\r\n\t\t.get(url)\r\n\t\t.then(res => {\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: GET_USERS,\r\n\t\t\t\t\tpayload: state.user.users.concat(res.data.results)\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\twindow.alert(\"Login Failed Error \" + res.status);\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(err => {\r\n\t\t\twindow.alert(err);\r\n\t\t});\r\n};\r\n\r\nexport const setRequestSent = flag => dispatch => {\r\n\tdispatch({\r\n\t\ttype: SET_REQUEST_SENT,\r\n\t\tpayload: flag\r\n\t});\r\n};\r\n\r\nexport const setEndUsersResquest = flag => dispatch => {\r\n\tdispatch({\r\n\t\ttype: SET_END_USERS_REQUEST,\r\n\t\tpayload: flag\r\n\t});\r\n};\r\n\r\nexport const setIsLoading = flag => dispatch => {\r\n\tdispatch({\r\n\t\ttype: SET_IS_LOADING,\r\n\t\tpayload: flag\r\n\t});\r\n};\r\n\r\nexport const setNat = nat => dispatch => {\r\n\tdispatch({\r\n\t\ttype: SET_NAT,\r\n\t\tpayload: nat\r\n\t});\r\n};\r\n","import React, { Component } from \"react\";\r\nimport Loading from \"./Loading\";\r\nimport UsersList from \"./UsersList\";\r\nimport Search from \"./Search\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n\tgetRandomUsers,\r\n\tsetEndUsersResquest,\r\n\tsetIsLoading,\r\n\tsetRequestSent\r\n} from \"../actions/users\";\r\n\r\nclass App extends Component {\r\n\tcomponentDidMount() {\r\n\t\tthis.requestUsers();\r\n\t}\r\n\r\n\trequestUsers() {\r\n\t\tthis.props.getRandomUsers();\r\n\t}\r\n\r\n\tsendUsersRequest() {\r\n\t\tif (this.props.requestSent) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.props.setRequestSent(true);\r\n\t\tsetTimeout(this.requestUsers.bind(this), 2000);\r\n\t}\r\n\r\n\thandleScroll() {\r\n\t\tconst max_users = 1000;\r\n\t\tconst wrapper = document.querySelector(\".wrapper\");\r\n\t\tconst scrollTop = wrapper && wrapper.scrollTop;\r\n\t\tconst scrollHeight = wrapper && wrapper.scrollHeight;\r\n\t\tconst clientHeight = window.innerHeight;\r\n\t\tconst scrolledToBottom =\r\n\t\t\tMath.ceil(scrollTop + clientHeight) >= scrollHeight;\r\n\t\tif (scrolledToBottom) {\r\n\t\t\tif (this.props.users.length === max_users) {\r\n\t\t\t\t// end of contact list\r\n\t\t\t\tthis.props.setEndUsersResquest(true);\r\n\t\t\t} else {\r\n\t\t\t\t// request the next 50 users\r\n\t\t\t\tthis.sendUsersRequest();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (this.props.isLoading) {\r\n\t\t\treturn <Loading />;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className=\"wrapper\" onScroll={this.handleScroll.bind(this)}>\r\n\t\t\t\t<Search users={this.props.users} />\r\n\t\t\t\t<Link to=\"/settings\" className=\"settings-link\">\r\n\t\t\t\t\tSettings\r\n\t\t\t\t</Link>\r\n\t\t\t\t<div className=\"users-wrapper\">\r\n\t\t\t\t\t<UsersList list={this.props.users} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={\r\n\t\t\t\t\t\tthis.props.requestSent\r\n\t\t\t\t\t\t\t? \"loading-users show\"\r\n\t\t\t\t\t\t\t: \"loading-users hidden\"\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\tLoading\r\n\t\t\t\t</div>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={\r\n\t\t\t\t\t\tthis.props.endUsersRequest ? \"end-users show\" : \"end-users hidden\"\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\tEnd of users catalog\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = ({ user }) => ({\r\n\tusers: user.users,\r\n\tisLoading: user.isLoading,\r\n\trequestSent: user.requestSent,\r\n\tendUsersRequest: user.endUsersRequest\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\t{\r\n\t\tgetRandomUsers,\r\n\t\tsetEndUsersResquest,\r\n\t\tsetIsLoading,\r\n\t\tsetRequestSent\r\n\t}\r\n)(App);\r\n","import React from 'react';\r\n\r\nconst NotFound = () => (\r\n  <div className='not-found'>\r\n    <h2>Not Found!</h2>\r\n  </div>\r\n);\r\n\r\nexport default NotFound;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { getRandomUsers, setNat } from \"../actions/users\";\r\n\r\nclass Settings extends Component {\r\n  state = {\r\n    nationalities: [\"ch\", \"es\", \"fr\", \"gb\"],\r\n    checked: []\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    this.setState({ checked: [...this.props.nat] });\r\n  };\r\n\r\n  onClick = event => {\r\n    event.preventDefault();\r\n    this.props.setNat(this.state.checked);\r\n  };\r\n\r\n  handleCheckbox = event => {\r\n    const target = event.currentTarget;\r\n    const nat = target.getAttribute(\"value\");\r\n    if (target.checked) {\r\n      this.setState({ checked: this.state.checked.concat(nat) });\r\n    } else {\r\n      let checked = this.state.checked;\r\n      const index = checked.indexOf(nat);\r\n      if (index > -1) {\r\n        checked.splice(index, 1);\r\n      }\r\n      this.setState({ checked });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"wrapper\">\r\n        <div className=\"nav\">\r\n          <Link to=\"/\">Back</Link>\r\n        </div>\r\n        <div className=\"settings-wrapper\">\r\n          <h4>Country:</h4>\r\n          <div className=\"choices-wrapper\">\r\n            {Object.keys(this.state.nationalities).map((key, index) => (\r\n              <label key={key}>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  key={key}\r\n                  checked={this.state.checked.includes(\r\n                    this.state.nationalities[key]\r\n                  )}\r\n                  value={this.state.nationalities[key]}\r\n                  onChange={this.handleCheckbox}\r\n                />\r\n                {this.state.nationalities[key]}\r\n              </label>\r\n            ))}\r\n          </div>\r\n          <button type=\"submit\" onClick={this.onClick}>\r\n            Save\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ user }) => ({\r\n  nat: user.nat\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { getRandomUsers, setNat }\r\n)(Settings);\r\n","import React from \"react\";\r\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\nimport App from \"./App\";\r\nimport NotFound from \"./NotFound\";\r\nimport Settings from \"./Settings\";\r\n\r\nconst Router = () => (\r\n\t<BrowserRouter>\r\n\t\t<Switch>\r\n\t\t\t<Route exact path=\"/\" render={(props) => <App {...props}/>} />\r\n\t\t\t<Route exact path=\"/settings\" render={(props) => <Settings {...props}/>} />\r\n\t\t\t<Route component={NotFound} />\r\n\t\t</Switch>\r\n\t</BrowserRouter>\r\n);\r\n\r\nexport default Router;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./store\";\r\nimport Router from \"./components/Router\";\r\nimport \"./css/style.css\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nReactDOM.render(\r\n\t<Provider store={store}>\r\n\t\t<Router />\r\n\t</Provider>,\r\n\tdocument.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}