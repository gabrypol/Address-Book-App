(this["webpackJsonpaddress-book-app-gabriele"]=this["webpackJsonpaddress-book-app-gabriele"]||[]).push([[0],{42:function(e,t,a){e.exports=a(70)},69:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(19),c=a.n(s),l=a(17),i=a(14),o=a(36),u=a(37),m=a(38);function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(a,!0).forEach(function(t){Object(m.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var h={users:[],isLoading:!0,requestSent:!0,endUsersRequest:!1,nat:[]},E=Object(i.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USERS":return d({},e,{users:t.payload,isLoading:!1,requestSent:!1});case"SET_IS_LOADING":return d({},e,{isLoading:t.payload});case"SET_END_USERS_REQUEST":return d({},e,{endUsersRequest:t.payload});case"SET_REQUEST_SENT":return d({},e,{requestSent:t.payload});case"SET_NAT":return d({},e,{nat:t.payload,users:[]});default:return e}}}),f=[u.a],b=Object(i.createStore)(E,{},Object(o.composeWithDevTools)(i.applyMiddleware.apply(void 0,f))),v=a(16),y=a(15),g=a(2),O=a(3),j=a(5),S=a(4),N=a(6),k=function(e){function t(){return Object(g.a)(this,t),Object(j.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"loading-wrapper"},r.a.createElement("div",{className:"loading-msg"},"Loading"))}}]),t}(n.Component),w=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(j.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).hideUserDetails=function(e){var t=e.currentTarget.getAttribute("data-value");document.getElementById("user_"+t).classList.add("hidden")},a}return Object(N.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.props.details,t=e.name,a=e.login,n=e.email,s=e.location,c=e.cell,l=e.phone,i=t.first+" "+t.last;return r.a.createElement("div",{className:"user-info-modal hidden",id:"user_"+n},r.a.createElement("div",{className:"user-info-modal-main"},r.a.createElement("div",{className:"user-info-modal-details"},r.a.createElement("p",{className:"name"},r.a.createElement("span",null,"Name: "),i),r.a.createElement("p",{className:"username"},r.a.createElement("span",null,"username:"),a.username),r.a.createElement("p",{className:"email"},r.a.createElement("span",null,"email:"),n),r.a.createElement("p",{className:"location"},r.a.createElement("span",null,"Street:"),s.street.name+" "+s.street.number),r.a.createElement("p",{className:"location"},r.a.createElement("span",null,"City:"),s.postcode," ",s.city),r.a.createElement("p",{className:"location"},r.a.createElement("span",null,"State:"),s.state),r.a.createElement("p",{className:"phone"},r.a.createElement("span",null,"Phone number:"),l),r.a.createElement("p",{className:"cell"},r.a.createElement("span",null,"Cell number:"),c)),r.a.createElement("div",{className:"user-info-actions",onClick:this.hideUserDetails,"data-value":n},r.a.createElement("span",{className:"user-info-btn"},"x"))))}}]),t}(n.Component),U=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(j.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).showUserDetail=function(e){var t=e.currentTarget.getAttribute("data-value");document.getElementById("user_"+t).classList.remove("hidden")},a}return Object(N.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.props.details,t=e.picture,a=e.name,n=e.login,s=e.email,c=a.first+" "+a.last;return r.a.createElement("div",{className:"user-info-card"},r.a.createElement("img",{src:t.large,alt:c}),r.a.createElement("div",{className:"user-info-details"},r.a.createElement("h4",{className:"name js-full-name"},c),r.a.createElement("h5",{className:"username"},n.username),r.a.createElement("h5",{className:"email"},s),r.a.createElement("div",{className:"user-info-actions",onClick:this.showUserDetail,"data-value":s},r.a.createElement("span",null,"+"))),r.a.createElement(w,{details:this.props.details}))}}]),t}(n.Component),T=function(e){function t(){return Object(g.a)(this,t),Object(j.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("ul",null,Object.keys(this.props.list).map(function(t){return r.a.createElement(U,{key:t,index:t,details:e.props.list[t]})}))}}]),t}(n.Component),q=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(j.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).filterSearch=function(e){var t=e.currentTarget.value.toLowerCase(),a=document.querySelectorAll(".js-full-name"),n=document.querySelectorAll(".user-info-card");n.forEach(function(e,r){a[r].innerText.toLowerCase().indexOf(t)>=0?n[r].style.display="block":n[r].style.display="none"})},a}return Object(N.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"search-wrapper "},r.a.createElement("input",{type:"text",className:"search",placeholder:"Search a user...",onChange:this.filterSearch}))}}]),t}(n.Component),R=a(39),C=a.n(R),_=function(){return function(e,t){var a,n=t();a="https://randomuser.me/api/?results=50&nat="+n.user.nat.join(","),C.a.get(a).then(function(t){200===t.status?e({type:"GET_USERS",payload:n.user.users.concat(t.data.results)}):window.alert("Login Failed Error "+t.status)}).catch(function(e){window.alert(e)})}},D=function(e){function t(){return Object(g.a)(this,t),Object(j.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){this.requestUsers()}},{key:"requestUsers",value:function(){this.props.getRandomUsers()}},{key:"sendUsersRequest",value:function(){this.props.requestSent||(this.props.setRequestSent(!0),setTimeout(this.requestUsers.bind(this),2e3))}},{key:"handleScroll",value:function(){var e=document.querySelector(".wrapper"),t=e&&e.scrollTop,a=e&&e.scrollHeight,n=window.innerHeight;Math.ceil(t+n)>=a&&(1e3===this.props.users.length?this.props.setEndUsersResquest(!0):this.sendUsersRequest())}},{key:"render",value:function(){return this.props.isLoading?r.a.createElement(k,null):r.a.createElement("div",{className:"wrapper",onScroll:this.handleScroll.bind(this)},r.a.createElement(q,{users:this.props.users}),r.a.createElement(v.b,{to:"/settings",className:"settings-link"},"Settings"),r.a.createElement("div",{className:"users-wrapper"},r.a.createElement(T,{list:this.props.users})),r.a.createElement("div",{className:this.props.requestSent?"loading-users show":"loading-users hidden"},"Loading"),r.a.createElement("div",{className:this.props.endUsersRequest?"end-users show":"end-users hidden"},"End of users catalog"))}}]),t}(n.Component),L=Object(l.b)(function(e){var t=e.user;return{users:t.users,isLoading:t.isLoading,requestSent:t.requestSent,endUsersRequest:t.endUsersRequest}},{getRandomUsers:_,setEndUsersResquest:function(e){return function(t){t({type:"SET_END_USERS_REQUEST",payload:e})}},setIsLoading:function(e){return function(t){t({type:"SET_IS_LOADING",payload:e})}},setRequestSent:function(e){return function(t){t({type:"SET_REQUEST_SENT",payload:e})}}})(D),A=function(){return r.a.createElement("div",{className:"not-found"},r.a.createElement("h2",null,"Not Found!"))},x=a(41),P=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(j.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={nationalities:["ch","es","fr","gb"],checked:[]},a.componentDidMount=function(){a.setState({checked:Object(x.a)(a.props.nat)})},a.onClick=function(e){e.preventDefault(),a.props.setNat(a.state.checked)},a.handleCheckbox=function(e){var t=e.currentTarget,n=t.getAttribute("value");if(t.checked)a.setState({checked:a.state.checked.concat(n)});else{var r=a.state.checked,s=r.indexOf(n);s>-1&&r.splice(s,1),a.setState({checked:r})}},a}return Object(N.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"nav"},r.a.createElement(v.b,{to:"/"},"Back")),r.a.createElement("div",{className:"settings-wrapper"},r.a.createElement("h4",null,"Country:"),r.a.createElement("div",{className:"choices-wrapper"},Object.keys(this.state.nationalities).map(function(t,a){return r.a.createElement("label",{key:t},r.a.createElement("input",{type:"checkbox",key:t,checked:e.state.checked.includes(e.state.nationalities[t]),value:e.state.nationalities[t],onChange:e.handleCheckbox}),e.state.nationalities[t])})),r.a.createElement("button",{type:"submit",onClick:this.onClick},"Save")))}}]),t}(n.Component),I=Object(l.b)(function(e){return{nat:e.user.nat}},{getRandomUsers:_,setNat:function(e){return function(t){t({type:"SET_NAT",payload:e})}}})(P),B=function(){return r.a.createElement(v.a,null,r.a.createElement(y.c,null,r.a.createElement(y.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(L,e)}}),r.a.createElement(y.a,{exact:!0,path:"/settings",render:function(e){return r.a.createElement(I,e)}}),r.a.createElement(y.a,{component:A})))};a(69),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(l.a,{store:b},r.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[42,1,2]]]);
//# sourceMappingURL=main.73ef0367.chunk.js.map